(this.webpackJsonpcovidinperspective=this.webpackJsonpcovidinperspective||[]).push([[0],{61:function(e,t,a){},62:function(e,t,a){},69:function(e,t){},71:function(e,t){},81:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),c=a.n(n),i=a(50),r=a.n(i),o=(a(61),a(53)),l=a(2),d=(a(62),a(23)),j=a(91),u=a(40),h=a(41),p=(a(81),function(e){var t=e.data,a=e.maskData,c=e.gradientColorRight,i=e.gradientColorLeft,r=(e.gradientColorMiddle,e.keyTitle),o=Object(n.useState)(!1),j=Object(l.a)(o,2),u=j[0],h=j[1],p=Object(n.useState)(),b=Object(l.a)(p,2),m=b[0],f=b[1],O=function(e){console.log(e),h(!0),f(e)};console.log(t);var y=function(e){if(e)return e.charAt(0).toUpperCase()+e.slice(1)};return Object(s.jsxs)("div",{className:"Main",children:[Object(s.jsx)(d.ComposableMap,{projection:"geoAlbersUsa",className:"Map",children:Object(s.jsx)(d.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/counties-10m.json",children:function(e){return e.geographies.map((function(e){var n=t.find((function(t){return t.fips===e.id})),c={state:"No Data"};return Object(s.jsx)(d.Geography,{onClick:function(){return O(n||c)},geography:e,fill:n?a?n.maskColor:n.color:"#EEE"},e.rsmKey)}))}})}),Object(s.jsxs)("div",{className:"Gradient",children:[Object(s.jsxs)("div",{className:"GradientKey",children:[Object(s.jsxs)("span",{children:["Low ",r]}),Object(s.jsxs)("span",{children:["High ",r]})]}),Object(s.jsx)("div",{className:"GradientBar",style:{background:"linear-gradient(to right, ".concat(i,", 35%, ").concat(c,") ")}})]}),Object(s.jsx)("div",{className:"BottomBar",children:u?Object(s.jsxs)("div",{children:[Object(s.jsxs)("span",{children:[Object(s.jsxs)("span",{className:"CountyDataTitle",children:[y(m.county)," County - "]}),Object(s.jsx)("span",{className:"CountyDataTitle",children:y(m.state)})]}),Object(s.jsxs)("span",{className:"CountyData",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:"CountyDataTitle",children:"Usually Wear Mask"}),Object(s.jsxs)("span",{className:"CountyDataNumber",children:[(100*m.usuallyWearMask).toFixed(1),"%"]})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:"CountyDataTitle",children:"Deaths"}),Object(s.jsx)("span",{className:"CountyDataNumber",children:1*m.deaths})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:"CountyDataTitle",children:"Infected Pop. - Last 30 Days"}),Object(s.jsxs)("span",{className:"CountyDataNumber",children:[(m.casesLast30/m.pop*100).toFixed(1),"%"]})]})]})]}):Object(s.jsx)("span",{children:"Select a county to see data..."})})]})});var b=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),r=Object(l.a)(i,2),d=r[0],b=r[1],m=Object(n.useState)(0),f=Object(l.a)(m,2),O=f[0],y=f[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),x=g[0],N=g[1],C=Object(n.useState)(0),D=Object(l.a)(C,2),k=D[0],I=D[1],R=Object(n.useState)([]),S=Object(l.a)(R,2),w=S[0],E=S[1],M=Object(n.useState)([]),T=Object(l.a)(M,2),B=T[0],F=T[1],L=Object(n.useState)([]),W=Object(l.a)(L,2),A=W[0],P=W[1],z=Object(n.useState)(0),U=Object(l.a)(z,2),V=U[0],G=U[1],H=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];Object(n.useEffect)((function(){var e=0,t=0,a=0,s=0;[].concat.apply([],d).forEach((function(n){n.usuallyWearMask>.8&&n.pop>0&&n.casesLast30?(e+=parseInt(n.pop),a+=parseInt(n.casesLast30)):n.pop>0&&n.casesLast30&&(t+=parseInt(n.pop),s+=parseInt(n.casesLast30))})),G((s/t-a/e)/(a/e)*100)}),[d]),Object(n.useEffect)((function(){y(B.length),50==B.length&&X(B)}),[B]),Object(n.useEffect)((function(){a.length>3244&&d.length<1&&H.map((function(e){return fetch("https://corona.lmao.ninja/v2/historical/usacounties/".concat(e.toLowerCase(),"?lastdays=30")).then((function(e){return e.json()})).then((function(e){F((function(t){return[].concat(Object(o.a)(t),[e])}))}),(function(e){console.log(e)}))}))}),[a.length]),Object(n.useEffect)((function(){3221===w.length&&Object(u.a)("https://raw.githubusercontent.com/nytimes/covid-19-data/master/live/us-counties.csv",{complete:function(e){Q(e)}})}),[w.length]),Object(n.useEffect)((function(){fetch("https://api.census.gov/data/2019/pep/population?get=POP&DATE_CODE=12&for=county:*").then((function(e){return e.json()})).then((function(e){Z(e)}),(function(e){console.log(e)})),Object(u.a)("https://raw.githubusercontent.com/nytimes/covid-19-data/master/mask-use/mask-use-by-county.csv",{complete:function(e){$(e)}}),fetch("https://api.covidtracking.com/v1/us/daily.json").then((function(e){return e.json()})).then((function(e){q(e[0],e[1])}),(function(e){console.log(e)}))}),[]);var _=Object(j.a)().domain([0,.04]).range(["#ffedea","#ffcec5","#ffad9f","#ff8a75","#ff5533","#e2492d","#be3d26","#9a311f","#782618"]),K=Object(j.a)().domain([.2,1]).range(["#DADDDB","#D5D8D5","#C9D4C8","#B1C9AF","#99BE95","#80B679","#73B26B","#66AD5C","#5E9B50"]),J=function(e){var t=w.find((function(t){return t.fips==e}));return t?t.pop:0},Y=function(e){var t=x.find((function(t){return t.fips==e}));if(t)return t.usually},q=function(e,t){var a={deaths:e.death,deathsIncrease:e.deathIncrease,hospitalized:e.hospitalizedCurrently,hospitalizedIncrease:e.hospitalizedIncrease,icu:e.inIcuCurrently,icuIncrease:e.inIcuCurrently-t.inIcuCurrently,ventilator:e.onVentilatorCurrently,ventilatorIncrease:e.onVentilatorCurrently-t.onVentilatorCurrently,positive:e.positive,positiveIncrease:e.positiveIncrease,recovered:e.recovered,recoveredIncrease:e.recovered-t.recovered};P(a)},Q=function(e){if(0==a.length){var t=e.data.map((function(e){var t=J(e[3]),a=Y(e[3]);return{date:e[0],county:e[1],state:e[2],fips:e[3],cases:e[4],deaths:e[5],confirmed_cases:e[6],confirmed_deaths:e[7],probable_cases:e[8],probable_deaths:e[9],pop:t,usuallyWearMask:a}}));c(t)}},X=function(e){var t=e.map((function(e){return e.map((function(e){var t=a.find((function(t){var a=t.county.toLowerCase(),s=t.state.toLowerCase();return a===e.county&&s===e.province}));t=t?t.fips:0;var s=J(t),n=Y(t);return console.log(e),{county:e.county,state:e.province,fips:t,casesLast30:Object.values(e.timeline.cases)[29]-Object.values(e.timeline.cases)[0],deaths:Object.values(e.timeline.deaths)[29],pop:s,usuallyWearMask:n,color:_((Object.values(e.timeline.cases)[29]-Object.values(e.timeline.cases)[0])/s),maskColor:K(n)}}))}));b(t)},Z=function(e){var t=e.map((function(e){return{fips:e[2]+e[3],pop:e[0]}}));E(t)},$=function(e){var t=e.data.map((function(e){var t=parseFloat(e[5])+parseFloat(e[4]),a=parseFloat(e[1])+parseFloat(e[2])+parseFloat(e[3]);return I(k+.0318066),{fips:e[0],usually:t,usuallyNot:a,color:K(t)}}));N(t)};return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("div",{className:"Title",children:"Covid In Perspective"}),Object(s.jsxs)("div",{className:"TopArea",children:[Object(s.jsxs)("div",{className:"LeftSide",children:[Object(s.jsxs)("div",{className:"Maps",children:[50==d.length?Object(s.jsxs)("div",{style:{width:"100%"},children:[Object(s.jsx)("span",{className:"MapTitle",children:"Cases In Last 30 Days Per Capita"}),Object(s.jsx)(p,{data:[].concat.apply([],d),maskData:!1,keyTitle:"Case Count",gradientColorRight:"#782618",gradientColorLeft:"#ffedea"})]}):Object(s.jsxs)("div",{className:"Spinner",children:[Object(s.jsx)(h.a,{className:"Progress",percent:2*O,strokeWidth:"8",trailWidth:"8",strokeColor:"#2db7f5"}),Object(s.jsx)("span",{children:"Retrieving the most up to date information..."})]}),50==d.length?Object(s.jsxs)("div",{style:{width:"100%"},children:[Object(s.jsx)("span",{className:"MapTitle",children:"Mask Usage by County"}),Object(s.jsx)(p,{data:[].concat.apply([],d),maskData:!0,keyTitle:"Mask Usage",gradientColorRight:"#5E9B50",gradientColorLeft:"#DADDDB"})]}):Object(s.jsxs)("div",{className:"Spinner",children:[Object(s.jsx)(h.a,{className:"Progress",percent:2*O,strokeWidth:"8",trailWidth:"8",strokeColor:"#2db7f5"}),Object(s.jsx)("span",{children:"Retrieving the most up to date information..."})]})]}),Object(s.jsxs)("div",{className:"BottomData",children:[Object(s.jsx)("span",{children:"The Bottom Line"}),Object(s.jsxs)("span",{children:["In counties where at least 80% of people frequently or always wear a mask, they were ",Object(s.jsxs)("b",{children:[V.toFixed(1),"% Less Likely"]})," to contract Coronavirus in the last 30 days. "]})]}),Object(s.jsxs)("div",{className:"BottomData",children:[Object(s.jsx)("span",{children:"Disclaimer"}),Object(s.jsx)("span",{children:'Data is collected from the NYT and Dynata, corona.lmao.ninja, the Census Bureau, and covidtracking.com. Mask usage data is based on roughly 250,000 interviews done by the NYT and Dynata . "Usually Wear Mask" on this website refers to data where the respondent answered that they frequently or always wear when asked "How often do you wear a mask in public when you expect to be within six feet of another person?"'})]})]}),Object(s.jsxs)("div",{className:"RigthSideBar",children:[Object(s.jsx)("span",{className:"RightSideTitle",style:{color:"#E63946"},children:"Deaths"}),Object(s.jsx)("span",{className:"RightSideNumber",style:{color:"#E63946"},children:A.deaths?A.deaths:Object(s.jsx)("span",{className:"RetrievingData",children:"Retrieving Data..."})}),Object(s.jsxs)("span",{className:"RightSideIncrease",style:{color:"#E63946"},children:["+",A.deathsIncrease," from yesterday"]}),Object(s.jsx)("span",{className:"RightSideTitle",style:{color:"#457B9D"},children:"Positive Cases"}),Object(s.jsx)("span",{className:"RightSideNumber",style:{color:"#457B9D"},children:A.positive?A.positive:Object(s.jsx)("span",{className:"RetrievingData",children:"Retrieving Data..."})}),Object(s.jsxs)("span",{className:"RightSideIncrease",style:{color:"#457B9D"},children:["+",A.positiveIncrease," from yesterday"]}),Object(s.jsx)("span",{className:"RightSideTitle",style:{color:"#E4DB25"},children:"Hospitalized"}),Object(s.jsx)("span",{className:"RightSideNumber",style:{color:"#E4DB25"},children:A.hospitalized?A.hospitalized:Object(s.jsx)("span",{className:"RetrievingData",children:"Retrieving Data..."})}),Object(s.jsxs)("span",{className:"RightSideIncrease",style:{color:"#E4DB25"},children:["+",A.hospitalizedIncrease," from yesterday"]}),Object(s.jsx)("span",{className:"RightSideTitle",style:{color:"#007F5F"},children:"In ICU"}),Object(s.jsx)("span",{className:"RightSideNumber",style:{color:"#007F5F"},children:A.icu?A.icu:Object(s.jsx)("span",{className:"RetrievingData",children:"Retrieving Data..."})}),Object(s.jsxs)("span",{className:"RightSideIncrease",style:{color:"#007F5F"},children:["+",A.icuIncrease," from yesterday"]}),Object(s.jsx)("span",{className:"RightSideTitle",style:{color:"#F3722C"},children:"On Ventilator"}),Object(s.jsx)("span",{className:"RightSideNumber",style:{color:"#F3722C"},children:A.ventilator?A.ventilator:Object(s.jsx)("span",{className:"RetrievingData",children:"Retrieving Data..."})}),Object(s.jsxs)("span",{className:"RightSideIncrease",style:{color:"#F3722C"},children:["+",A.ventilatorIncrease," from yesterday"]}),Object(s.jsx)("span",{className:"RightSideTitle",style:{color:"#4361EE"},children:"Recovered"}),Object(s.jsx)("span",{className:"RightSideNumber",style:{color:"#4361EE"},children:A.recovered?A.recovered:Object(s.jsx)("span",{className:"RetrievingData",children:"Retrieving Data..."})}),Object(s.jsxs)("span",{className:"RightSideIncrease",style:{color:"#4361EE"},children:["+",A.recoveredIncrease," from yesterday"]})]})]})]})},m=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,93)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(b,{})}),document.getElementById("root")),m()}},[[85,1,2]]]);
//# sourceMappingURL=main.020449f1.chunk.js.map