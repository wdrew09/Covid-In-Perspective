{"version":3,"sources":["Components/Map.js","App.js","reportWebVitals.js","index.js"],"names":["MapChart","props","data","maskData","gradientColorRight","gradientColorLeft","keyTitle","gradientColorMiddle","useState","clicked","setClicked","clickedData","setClickedData","wasClicked","console","log","capitalizeFirstLetter","string","charAt","toUpperCase","slice","className","projection","geography","geographies","map","geo","cur","find","s","fips","id","noData","state","onClick","fill","maskColor","color","rsmKey","style","background","county","usuallyWearMask","toFixed","deaths","casesLast30","pop","App","countyData","setCountyData","finalCountyData","setFinalCountyData","finalCountyProgress","setFinalCountyProgress","setMaskData","maskDataProgress","setMaskDataProgress","populationData","setPopulationData","rawStatesData","setRawStatesData","generalCovidData","setGeneralCovidData","moreLikelyPercent","setMoreLikelyPercent","states","useEffect","totalPopUsually","totalPopNotUsually","totalCasesUsaully","totalCasesNotUsually","concat","apply","forEach","parseInt","length","parseCountyData","fetch","toLowerCase","then","res","json","result","error","readRemoteFile","complete","results","parseNYTData","parsePopulationData","parseMaskData","parseGeneralData","curCasesColorScale","scaleQuantize","domain","range","masksColorScale","findPopulation","val","findMaskFrequency","usually","resultsYesterday","newResults","death","deathsIncrease","deathIncrease","hospitalized","hospitalizedCurrently","hospitalizedIncrease","icu","inIcuCurrently","icuIncrease","ventilator","onVentilatorCurrently","ventilatorIncrease","positive","positiveIncrease","recovered","recoveredIncrease","row","popTemp","usuallyMaskTemp","date","cases","confirmed_cases","confirmed_deaths","probable_cases","probable_deaths","fipsVal","tempCounty","tempState","province","Object","values","timeline","tempUsually","parseFloat","tempUsuallyNot","usuallyNot","width","percent","strokeWidth","trailWidth","strokeColor","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gVA0FeA,G,MApFE,SAACC,GAAW,IAErBC,EAMAD,EANAC,KACAC,EAKAF,EALAE,SACAC,EAIAH,EAJAG,mBACAC,EAGAJ,EAHAI,kBAEAC,GACAL,EAFAM,oBAEAN,EADAK,UAPoB,EAUME,oBAAS,GAVf,mBAUjBC,EAViB,KAURC,EAVQ,OAWcF,qBAXd,mBAWjBG,EAXiB,KAWJC,EAXI,KAalBC,EAAa,SAACX,GAChBY,QAAQC,IAAIb,GACZQ,GAAW,GACXE,EAAeV,IAGnBY,QAAQC,IAAIb,GACZ,IAAMc,EAAwB,SAACC,GAC3B,GAAIA,EACA,OAAOA,EAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,IAI7D,OACI,sBAAKC,UAAU,OAAf,UACI,cAAC,gBAAD,CAAeC,WAAW,eAAeD,UAAU,MAAnD,SACI,cAAC,cAAD,CAAaE,UA/Bd,4DA+BC,SACK,qBAAGC,YACYC,KAAI,SAAAC,GACZ,IAAMC,EAAMzB,EAAK0B,MAAK,SAAAC,GAAC,OAAIA,EAAEC,OAASJ,EAAIK,MACpCC,EAAS,CAAEC,MAAO,WACxB,OACI,cAAC,YAAD,CACIC,QAAS,kBAAYrB,EAANc,GAAmCK,IAElDT,UAAWG,EACXS,KAAMR,EAAOxB,EAAWwB,EAAIS,UAAYT,EAAIU,MAAS,QAFhDX,EAAIY,gBASjC,sBAAKjB,UAAU,WAAf,UACI,sBAAKA,UAAU,cAAf,UACI,wCAAWf,KACX,yCAAYA,QAEhB,qBAAKe,UAAU,cAAckB,MAAO,CAAEC,WAAW,6BAAD,OAA+BnC,EAA/B,kBAA0DD,EAA1D,YAGpD,qBAAKiB,UAAU,YAAf,SACKZ,EACG,gCACI,iCACI,uBAAMY,UAAU,kBAAhB,UAAmCL,EAAsBL,EAAY8B,QAArE,gBACA,sBAAMpB,UAAU,kBAAhB,SAAmCL,EAAsBL,EAAYsB,YAEzE,uBAAMZ,UAAU,aAAhB,UACI,gCACI,sBAAMA,UAAU,kBAAhB,+BACA,uBAAMA,UAAU,mBAAhB,WAAmE,IAA9BV,EAAY+B,iBAAuBC,QAAQ,GAAhF,UAEJ,gCACI,sBAAMtB,UAAU,kBAAhB,oBACA,sBAAMA,UAAU,mBAAhB,SAAuD,EAAnBV,EAAYiC,YAEpD,gCACI,sBAAMvB,UAAU,kBAAhB,0CACA,uBAAMA,UAAU,mBAAhB,WAAsCV,EAAYkC,YAAclC,EAAYmC,IAAO,KAAKH,QAAQ,GAAhG,gBAKZ,yECkQLI,MAxUf,WAAgB,IAAD,EACuBvC,mBAAS,IADhC,mBACNwC,EADM,KACMC,EADN,OAEiCzC,mBAAS,IAF1C,mBAEN0C,EAFM,KAEWC,EAFX,OAGyC3C,mBAAS,GAHlD,mBAGN4C,EAHM,KAGeC,EAHf,OAImB7C,mBAAS,IAJ5B,mBAINL,EAJM,KAIImD,EAJJ,OAKmC9C,mBAAS,GAL5C,mBAKN+C,EALM,KAKYC,EALZ,OAM+BhD,mBAAS,IANxC,mBAMNiD,EANM,KAMUC,EANV,OAO6BlD,mBAAS,IAPtC,mBAONmD,EAPM,KAOSC,EAPT,OAQmCpD,mBAAS,IAR5C,mBAQNqD,EARM,KAQYC,EARZ,OAUqCtD,mBAAS,GAV9C,mBAUNuD,EAVM,KAUaC,EAVb,KAYPC,EAAS,CAAC,UAAW,SAAU,UAAW,WAAY,aAAc,WAAY,cAAe,WAAY,UAAW,UAAW,SAAU,QAAS,WAAY,UAAW,OAAQ,SAAU,WAAY,YAAa,QAAS,WAAY,gBAAiB,WAAY,YAAa,cAAe,WAAY,UAAW,WAAY,SAAU,gBAAiB,aAAc,aAAc,WAAY,iBAAkB,eAAgB,OAAQ,WAAY,SAAU,eAAgB,eAAgB,iBAAkB,eAAgB,YAAa,QAAS,OAAQ,UAAW,WAAY,aAAc,gBAAiB,YAAa,WAGnnBC,qBAAU,WACR,IAAIC,EAAkB,EAClBC,EAAqB,EACrBC,EAAoB,EACpBC,EAAuB,EAEd,GAAGC,OAAOC,MAAM,GAAItB,GAE1BuB,SAAQ,SAAAhC,GACTA,EAAOC,gBAAkB,IAAMD,EAAOK,IAAM,GAAKL,EAAOI,aAC1DsB,GAAmBO,SAASjC,EAAOK,KACnCuB,GAAqBK,SAASjC,EAAOI,cAC5BJ,EAAOK,IAAM,GAAKL,EAAOI,cAClCuB,GAAsBM,SAASjC,EAAOK,KACtCwB,GAAwBI,SAASjC,EAAOI,iBAG5CmB,GAAwBM,EAAuBF,EAAuBC,EAAoBF,IAAqBE,EAAoBF,GAAkB,OACpJ,CAACjB,IAGJgB,qBAAU,WACRb,EAAuBM,EAAcgB,QACT,IAAxBhB,EAAcgB,QAChBC,EAAgBjB,KAEjB,CAACA,IAKJO,qBAAU,WACJlB,EAAW2B,OAAS,MAClBzB,EAAgByB,OAAS,GAE3BV,EAAOxC,KAAI,SAAAQ,GAAK,OACd4C,MAAM,uDAAD,OAAwD5C,EAAM6C,cAA9D,iBACFC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACC,SAACG,GACCtB,GAAiB,SAAAD,GAAa,4BAAQA,GAAR,CAAuBuB,UAEvD,SAACC,GACCrE,QAAQC,IAAIoE,WAOvB,CAACnC,EAAW2B,SAIfT,qBAAU,WACsB,OAA1BT,EAAekB,QACjBS,YAAe,sFAAuF,CACpGC,SAAU,SAACC,GACTC,EAAaD,QAIlB,CAAC7B,EAAekB,SAGnBT,qBAAU,WACRW,MAAM,qFACHE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACC,SAACG,GACCM,EAAoBN,MAEtB,SAACC,GACCrE,QAAQC,IAAIoE,MAIlBC,YAAe,iGAAkG,CAC/GC,SAAU,SAACC,GACTG,EAAcH,MAIlBT,MAAM,kDACHE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACC,SAACG,GACCQ,EAAiBR,EAAO,GAAIA,EAAO,OAErC,SAACC,GACCrE,QAAQC,IAAIoE,QAGjB,IAEH,IAAMQ,EAAqBC,cACxBC,OAAO,CAAC,EAAG,MACXC,MAAM,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGEC,EAAkBH,cACrBC,OAAO,CAAC,GAAI,IACZC,MAAM,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAIEE,EAAiB,SAAClE,GACtB,IAAImE,EAAMxC,EAAe7B,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAQA,KAC7C,OAAImE,EACKA,EAAInD,IAGN,GAIHoD,EAAoB,SAACpE,GACzB,IAAImE,EAAM9F,EAASyB,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAQA,KACvC,GAAImE,EACF,OAAOA,EAAIE,SAITT,EAAmB,SAACJ,EAASc,GACjC,IAAIC,EAAa,CACfzD,OAAQ0C,EAAQgB,MAChBC,eAAgBjB,EAAQkB,cACxBC,aAAcnB,EAAQoB,sBACtBC,qBAAsBrB,EAAQqB,qBAC9BC,IAAKtB,EAAQuB,eACbC,YAAaxB,EAAQuB,eAAiBT,EAAiBS,eACvDE,WAAYzB,EAAQ0B,sBACpBC,mBAAoB3B,EAAQ0B,sBAAwBZ,EAAiBY,sBACrEE,SAAU5B,EAAQ4B,SAClBC,iBAAkB7B,EAAQ6B,iBAC1BC,UAAW9B,EAAQ8B,UACnBC,kBAAmB/B,EAAQ8B,UAAYhB,EAAiBgB,WAG1DtD,EAAoBuC,IAIhBd,EAAe,SAACD,GACpB,GAAyB,GAArBtC,EAAW2B,OAAa,CAC1B,IAAI0B,EAAaf,EAAQpF,KAAKuB,KAAI,SAAA6F,GAChC,IAAIC,EAAUvB,EAAesB,EAAI,IAC7BE,EAAkBtB,EAAkBoB,EAAI,IAC5C,MAAO,CACLG,KAAMH,EAAI,GACV7E,OAAQ6E,EAAI,GACZrF,MAAOqF,EAAI,GACXxF,KAAMwF,EAAI,GACVI,MAAOJ,EAAI,GACX1E,OAAQ0E,EAAI,GACZK,gBAAiBL,EAAI,GACrBM,iBAAkBN,EAAI,GACtBO,eAAgBP,EAAI,GACpBQ,gBAAiBR,EAAI,GACrBxE,IAAKyE,EACL7E,gBAAiB8E,MAGrBvE,EAAcoD,KAKZzB,EAAkB,SAACU,GACvB,IAAIe,EAAaf,EAAQ7D,KAAI,SAAAQ,GAC3B,OAAOA,EAAMR,KAAI,SAAA6F,GACf,IAAIS,EAAU/E,EAAWpB,MAAK,SAAAC,GAC5B,IAAImG,EAAanG,EAAEY,OAAOqC,cACtBmD,EAAYpG,EAAEI,MAAM6C,cACxB,OAASkD,IAAeV,EAAI7E,QAAYwF,IAAcX,EAAIY,YAG1DH,EADEA,EACQA,EAAQjG,KAER,EAEZ,IAAIyF,EAAUvB,EAAe+B,GACzBP,EAAkBtB,EAAkB6B,GAExC,OADAjH,QAAQC,IAAIuG,GACL,CACL7E,OAAQ6E,EAAI7E,OACZR,MAAOqF,EAAIY,SACXpG,KAAMiG,EACNlF,YAAasF,OAAOC,OAAOd,EAAIe,SAASX,OAAO,IAAMS,OAAOC,OAAOd,EAAIe,SAASX,OAAO,GACvF9E,OAAQuF,OAAOC,OAAOd,EAAIe,SAASzF,QAAQ,IAC3CE,IAAKyE,EACL7E,gBAAiB8E,EACjBnF,MAAOsD,GAAoBwC,OAAOC,OAAOd,EAAIe,SAASX,OAAO,IAAMS,OAAOC,OAAOd,EAAIe,SAASX,OAAO,IAAMH,GAC3GnF,UAAW2D,EAAgByB,UAIjCrE,EAAmBkD,IAIfb,EAAsB,SAACF,GAC3B,IAAIe,EAAaf,EAAQ7D,KAAI,SAAA6F,GAC3B,MAAO,CACLxF,KAAMwF,EAAI,GAAKA,EAAI,GACnBxE,IAAKwE,EAAI,OAGb5D,EAAkB2C,IAIdZ,EAAgB,SAACH,GACrB,IAAIe,EAAaf,EAAQpF,KAAKuB,KAAI,SAAA6F,GAChC,IAAIgB,EAAcC,WAAWjB,EAAI,IAAMiB,WAAWjB,EAAI,IAClDkB,EAAiBD,WAAWjB,EAAI,IAAMiB,WAAWjB,EAAI,IAAMiB,WAAWjB,EAAI,IAE9E,OADA9D,EAAoBD,EAAmB,UAChC,CACLzB,KAAMwF,EAAI,GACVnB,QAASmC,EACTG,WAAYD,EACZnG,MAAO0D,EAAgBuC,OAI3BhF,EAAY+C,IAGd,OACE,sBAAKhF,UAAU,MAAf,UACE,qBAAKA,UAAU,QAAf,kCACA,sBAAKA,UAAU,UAAf,UACE,sBAAKA,UAAU,WAAf,UACE,sBAAKA,UAAU,OAAf,UAC6B,IAA1B6B,EAAgByB,OAEf,sBAAKpC,MAAO,CAAEmG,MAAO,QAArB,UACE,sBAAMrH,UAAU,WAAhB,8CACA,cAAC,EAAD,CAAKnB,KAAM,GAAGqE,OAAOC,MAAM,GAAItB,GAAkB/C,UAAU,EAAOG,SAAU,aAAcF,mBAAoB,UAAWC,kBAAmB,eAG9I,sBAAKgB,UAAU,UAAf,UACE,cAAC,IAAD,CAAQA,UAAU,WAAWsH,QAA+B,EAAtBvF,EAAyBwF,YAAY,IAAIC,WAAW,IAAIC,YAAY,YAC1G,oFAGuB,IAA1B5F,EAAgByB,OAEf,sBAAKpC,MAAO,CAAEmG,MAAO,QAArB,UACE,sBAAMrH,UAAU,WAAhB,kCACA,cAAC,EAAD,CAAKnB,KAAM,GAAGqE,OAAOC,MAAM,GAAItB,GAAkB/C,UAAU,EAAMG,SAAU,aAAcF,mBAAoB,UAAWC,kBAAmB,eAG7I,sBAAKgB,UAAU,UAAf,UACE,cAAC,IAAD,CAAQA,UAAU,WAAWsH,QAA+B,EAAtBvF,EAAyBwF,YAAY,IAAIC,WAAW,IAAIC,YAAY,YAC1G,uFAKN,sBAAKzH,UAAU,aAAf,UACE,mDACA,yHAA2F,8BAAI0C,EAAkBpB,QAAQ,GAA9B,mBAA3F,uDAEF,sBAAKtB,UAAU,aAAf,UACE,8CACA,ucAGJ,sBAAKA,UAAU,eAAf,UACE,sBAAMA,UAAU,iBAAiBkB,MAAO,CAAEF,MAAO,WAAjD,oBACA,sBAAMhB,UAAU,kBAAkBkB,MAAO,CAAEF,MAAO,WAAlD,SAAgEwB,EAAiBjB,OAASiB,EAAiBjB,OAAS,sBAAMvB,UAAU,iBAAhB,kCACpH,uBAAMA,UAAU,oBAAoBkB,MAAO,CAAEF,MAAO,WAApD,cAAmEwB,EAAiB0C,eAApF,qBACA,sBAAMlF,UAAU,iBAAiBkB,MAAO,CAAEF,MAAO,WAAjD,4BACA,sBAAMhB,UAAU,kBAAkBkB,MAAO,CAAEF,MAAO,WAAlD,SAAgEwB,EAAiBqD,SAAWrD,EAAiBqD,SAAW,sBAAM7F,UAAU,iBAAhB,kCACxH,uBAAMA,UAAU,oBAAoBkB,MAAO,CAAEF,MAAO,WAApD,cAAmEwB,EAAiBsD,iBAApF,qBACA,sBAAM9F,UAAU,iBAAiBkB,MAAO,CAAEF,MAAO,WAAjD,0BACA,sBAAMhB,UAAU,kBAAkBkB,MAAO,CAAEF,MAAO,WAAlD,SAAgEwB,EAAiB4C,aAAe5C,EAAiB4C,aAAe,sBAAMpF,UAAU,iBAAhB,kCAChI,uBAAMA,UAAU,oBAAoBkB,MAAO,CAAEF,MAAO,WAApD,cAAmEwB,EAAiB8C,qBAApF,qBACA,sBAAMtF,UAAU,iBAAiBkB,MAAO,CAAEF,MAAO,WAAjD,oBACA,sBAAMhB,UAAU,kBAAkBkB,MAAO,CAAEF,MAAO,WAAlD,SAAgEwB,EAAiB+C,IAAM/C,EAAiB+C,IAAM,sBAAMvF,UAAU,iBAAhB,kCAC9G,uBAAMA,UAAU,oBAAoBkB,MAAO,CAAEF,MAAO,WAApD,cAAmEwB,EAAiBiD,YAApF,qBACA,sBAAMzF,UAAU,iBAAiBkB,MAAO,CAAEF,MAAO,WAAjD,2BACA,sBAAMhB,UAAU,kBAAkBkB,MAAO,CAAEF,MAAO,WAAlD,SAAgEwB,EAAiBkD,WAAalD,EAAiBkD,WAAa,sBAAM1F,UAAU,iBAAhB,kCAC5H,uBAAMA,UAAU,oBAAoBkB,MAAO,CAAEF,MAAO,WAApD,cAAmEwB,EAAiBoD,mBAApF,qBACA,sBAAM5F,UAAU,iBAAiBkB,MAAO,CAAEF,MAAO,WAAjD,uBACA,sBAAMhB,UAAU,kBAAkBkB,MAAO,CAAEF,MAAO,WAAlD,SAAgEwB,EAAiBuD,UAAYvD,EAAiBuD,UAAY,sBAAM/F,UAAU,iBAAhB,kCAC1H,uBAAMA,UAAU,oBAAoBkB,MAAO,CAAEF,MAAO,WAApD,cAAmEwB,EAAiBwD,kBAApF,+BCjUK0B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBlE,MAAK,YAAkD,IAA/CmE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.020449f1.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { ComposableMap, Geographies, Geography } from \"react-simple-maps\";\nimport './Map.css'\n\nconst geoUrl = \"https://cdn.jsdelivr.net/npm/us-atlas@3/counties-10m.json\";\n\nconst MapChart = (props) => {\n    const {\n        data,\n        maskData,\n        gradientColorRight,\n        gradientColorLeft,\n        gradientColorMiddle,\n        keyTitle\n    } = props\n\n    const [clicked, setClicked] = useState(false)\n    const [clickedData, setClickedData] = useState()\n\n    const wasClicked = (data) => {\n        console.log(data)\n        setClicked(true)\n        setClickedData(data)\n    }\n\n    console.log(data)\n    const capitalizeFirstLetter = (string) => {\n        if (string) {\n            return string.charAt(0).toUpperCase() + string.slice(1);\n        }\n    }\n\n    return (\n        <div className=\"Main\">\n            <ComposableMap projection=\"geoAlbersUsa\" className=\"Map\">\n                <Geographies geography={geoUrl}>\n                    {({ geographies }) =>\n                        geographies.map(geo => {\n                            const cur = data.find(s => s.fips === geo.id);\n                            const noData = { state: \"No Data\" }\n                            return (\n                                <Geography\n                                    onClick={() => cur ? wasClicked(cur) : wasClicked(noData)}\n                                    key={geo.rsmKey}\n                                    geography={geo}\n                                    fill={cur ? (maskData ? cur.maskColor : cur.color) : '#EEE'}\n                                />\n                            );\n                        })\n                    }\n                </Geographies>\n            </ComposableMap>\n            <div className=\"Gradient\">\n                <div className=\"GradientKey\">\n                    <span>Low {keyTitle}</span>\n                    <span>High {keyTitle}</span>\n                </div>\n                <div className=\"GradientBar\" style={{ background: `linear-gradient(to right, ${gradientColorLeft}, 35%, ${gradientColorRight}) ` }}>\n                </div>\n            </div>\n            <div className=\"BottomBar\">\n                {clicked ?\n                    <div>\n                        <span>\n                            <span className=\"CountyDataTitle\">{capitalizeFirstLetter(clickedData.county)} County - </span>\n                            <span className=\"CountyDataTitle\">{capitalizeFirstLetter(clickedData.state)}</span>\n                        </span>\n                        <span className=\"CountyData\">\n                            <div>\n                                <span className=\"CountyDataTitle\">Usually Wear Mask</span>\n                                <span className=\"CountyDataNumber\">{(clickedData.usuallyWearMask * 100).toFixed(1)}%</span>\n                            </div>\n                            <div>\n                                <span className=\"CountyDataTitle\">Deaths</span>\n                                <span className=\"CountyDataNumber\">{clickedData.deaths*1}</span>\n                            </div>\n                            <div>\n                                <span className=\"CountyDataTitle\">Infected Pop. - Last 30 Days</span>\n                                <span className=\"CountyDataNumber\">{((clickedData.casesLast30 / clickedData.pop) * 100).toFixed(1)}%</span>\n                            </div>\n                        </span>\n                    </div>\n                    :\n                    <span>Select a county to see data...</span>\n                }\n            </div>\n        </div>\n    );\n};\n\nexport default MapChart;\n","import './App.css';\n\nimport React, { useState, useEffect, useDebugValue } from \"react\";\nimport { ComposableMap, Geographies, Geography } from \"react-simple-maps\";\nimport { scaleQuantize } from \"d3-scale\";\nimport { csv } from \"d3-fetch\";\n\nimport { readRemoteFile } from 'react-papaparse';\nimport { Line, Circle } from 'rc-progress';\n\nimport Map from './Components/Map';\n\n\nfunction App() {\n  const [countyData, setCountyData] = useState([])\n  const [finalCountyData, setFinalCountyData] = useState([])\n  const [finalCountyProgress, setFinalCountyProgress] = useState(0)\n  const [maskData, setMaskData] = useState([])\n  const [maskDataProgress, setMaskDataProgress] = useState(0)\n  const [populationData, setPopulationData] = useState([])\n  const [rawStatesData, setRawStatesData] = useState([])\n  const [generalCovidData, setGeneralCovidData] = useState([])\n\n  const [moreLikelyPercent, setMoreLikelyPercent] = useState(0)\n\n  const states = ['Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California', 'Colorado', 'Connecticut', 'Delaware', 'Florida', 'Georgia', 'Hawaii', 'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire', 'New Jersey', 'New Mexico', 'New York', 'North Carolina', 'North Dakota', 'Ohio', 'Oklahoma', 'Oregon', 'Pennsylvania', 'Rhode Island', 'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming']\n\n  //when final data is finished, calculate some notable results\n  useEffect(() => {\n    let totalPopUsually = 0;\n    let totalPopNotUsually = 0;\n    let totalCasesUsaully = 0;\n    let totalCasesNotUsually = 0;\n\n    var merged = [].concat.apply([], finalCountyData);\n\n    merged.forEach(county => {\n      if (county.usuallyWearMask > .8 && county.pop > 0 && county.casesLast30) {\n        totalPopUsually += parseInt(county.pop)\n        totalCasesUsaully += parseInt(county.casesLast30)\n      } else if (county.pop > 0 && county.casesLast30) {\n        totalPopNotUsually += parseInt(county.pop)\n        totalCasesNotUsually += parseInt(county.casesLast30)\n      }\n    })\n    setMoreLikelyPercent((((totalCasesNotUsually / totalPopNotUsually) - (totalCasesUsaully / totalPopUsually)) / (totalCasesUsaully / totalPopUsually))*100)\n  }, [finalCountyData])\n\n  //When the data from counties is collected, make readable\n  useEffect(() => {\n    setFinalCountyProgress(rawStatesData.length)\n    if (rawStatesData.length == 50) {\n      parseCountyData(rawStatesData)\n    }\n  }, [rawStatesData])\n\n\n  //When nyt data is populated, get recent county data\n  //Note: must do them one by one in order to get data to match fips\n  useEffect(() => {\n    if (countyData.length > 3244) {\n      if (finalCountyData.length < 1) {\n\n        states.map(state =>\n          fetch(`https://corona.lmao.ninja/v2/historical/usacounties/${state.toLowerCase()}?lastdays=30`)\n            .then(res => res.json())\n            .then(\n              (result) => {\n                setRawStatesData(rawStatesData => [...rawStatesData, result])\n              },\n              (error) => {\n                console.log(error)\n              }\n            )\n        );\n\n      }\n    }\n  }, [countyData.length])\n\n\n  //when populationData is populated, find covid data from nyt\n  useEffect(() => {\n    if (populationData.length === 3221) {\n      readRemoteFile('https://raw.githubusercontent.com/nytimes/covid-19-data/master/live/us-counties.csv', {\n        complete: (results) => {\n          parseNYTData(results)\n        },\n      });\n    }\n  }, [populationData.length])\n\n  //find population data and mask data on page load\n  useEffect(() => {\n    fetch(\"https://api.census.gov/data/2019/pep/population?get=POP&DATE_CODE=12&for=county:*\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          parsePopulationData(result)\n        },\n        (error) => {\n          console.log(error)\n        }\n      )\n\n    readRemoteFile('https://raw.githubusercontent.com/nytimes/covid-19-data/master/mask-use/mask-use-by-county.csv', {\n      complete: (results) => {\n        parseMaskData(results)\n      },\n    });\n\n    fetch(\"https://api.covidtracking.com/v1/us/daily.json\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          parseGeneralData(result[0], result[1])\n        },\n        (error) => {\n          console.log(error)\n        }\n      )\n  }, []);\n\n  const curCasesColorScale = scaleQuantize()\n    .domain([0, .04])\n    .range([\n      \"#ffedea\",\n      \"#ffcec5\",\n      \"#ffad9f\",\n      \"#ff8a75\",\n      \"#ff5533\",\n      \"#e2492d\",\n      \"#be3d26\",\n      \"#9a311f\",\n      \"#782618\"\n    ]);\n\n  const masksColorScale = scaleQuantize()\n    .domain([.2, 1])\n    .range([\n      \"#DADDDB\",\n      \"#D5D8D5\",\n      \"#C9D4C8\",\n      \"#B1C9AF\",\n      \"#99BE95\",\n      \"#80B679\",\n      \"#73B26B\",\n      \"#66AD5C\",\n      \"#5E9B50\"\n    ]);\n\n  //matches the data from nyt and census to find overall population in counties\n  const findPopulation = (fips) => {\n    let val = populationData.find(s => s.fips == fips)\n    if (val) {\n      return val.pop\n    }\n    //if no matiching fips could be found (typically very small counties with no data)\n    return 0\n  }\n\n  //Merging data from mask data into other arrays\n  const findMaskFrequency = (fips) => {\n    let val = maskData.find(s => s.fips == fips)\n    if (val) {\n      return val.usually\n    }\n  }\n\n  const parseGeneralData = (results, resultsYesterday) => {\n    let newResults = {\n      deaths: results.death,\n      deathsIncrease: results.deathIncrease,\n      hospitalized: results.hospitalizedCurrently,\n      hospitalizedIncrease: results.hospitalizedIncrease,\n      icu: results.inIcuCurrently,\n      icuIncrease: results.inIcuCurrently - resultsYesterday.inIcuCurrently,\n      ventilator: results.onVentilatorCurrently,\n      ventilatorIncrease: results.onVentilatorCurrently - resultsYesterday.onVentilatorCurrently,\n      positive: results.positive,\n      positiveIncrease: results.positiveIncrease,\n      recovered: results.recovered,\n      recoveredIncrease: results.recovered - resultsYesterday.recovered,\n\n    }\n    setGeneralCovidData(newResults)\n  }\n\n  //takes covid data from nyt and puts it in easier to read array of objects\n  const parseNYTData = (results) => {\n    if (countyData.length == 0) {\n      let newResults = results.data.map(row => {\n        let popTemp = findPopulation(row[3])\n        let usuallyMaskTemp = findMaskFrequency(row[3])\n        return {\n          date: row[0],\n          county: row[1],\n          state: row[2],\n          fips: row[3],\n          cases: row[4],\n          deaths: row[5],\n          confirmed_cases: row[6],\n          confirmed_deaths: row[7],\n          probable_cases: row[8],\n          probable_deaths: row[9],\n          pop: popTemp,\n          usuallyWearMask: usuallyMaskTemp,\n        }\n      })\n      setCountyData(newResults)\n    }\n\n  }\n\n  const parseCountyData = (results) => {\n    let newResults = results.map(state => {\n      return state.map(row => {\n        let fipsVal = countyData.find(s => {\n          let tempCounty = s.county.toLowerCase()\n          let tempState = s.state.toLowerCase()\n          return ((tempCounty === row.county) && (tempState === row.province))\n        })\n        if (fipsVal) {\n          fipsVal = fipsVal.fips\n        } else {\n          fipsVal = 0\n        }\n        let popTemp = findPopulation(fipsVal)\n        let usuallyMaskTemp = findMaskFrequency(fipsVal)\n        console.log(row)\n        return {\n          county: row.county,\n          state: row.province,\n          fips: fipsVal,\n          casesLast30: Object.values(row.timeline.cases)[29] - Object.values(row.timeline.cases)[0],\n          deaths: Object.values(row.timeline.deaths)[29],\n          pop: popTemp,\n          usuallyWearMask: usuallyMaskTemp,\n          color: curCasesColorScale((Object.values(row.timeline.cases)[29] - Object.values(row.timeline.cases)[0]) / popTemp),\n          maskColor: masksColorScale(usuallyMaskTemp)\n        }\n      })\n    })\n    setFinalCountyData(newResults)\n  }\n\n  //takes population data from census and puts it in easier to read array of objects\n  const parsePopulationData = (results) => {\n    let newResults = results.map(row => {\n      return {\n        fips: row[2] + row[3],\n        pop: row[0]\n      }\n    })\n    setPopulationData(newResults)\n  }\n\n  //makes mask data from nyt more readable\n  const parseMaskData = (results) => {\n    let newResults = results.data.map(row => {\n      let tempUsually = parseFloat(row[5]) + parseFloat(row[4])\n      let tempUsuallyNot = parseFloat(row[1]) + parseFloat(row[2]) + parseFloat(row[3])\n      setMaskDataProgress(maskDataProgress + 0.0318066)\n      return {\n        fips: row[0],\n        usually: tempUsually,\n        usuallyNot: tempUsuallyNot,\n        color: masksColorScale(tempUsually)\n      }\n\n    })\n    setMaskData(newResults)\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"Title\">Covid In Perspective</div>\n      <div className=\"TopArea\">\n        <div className=\"LeftSide\">\n          <div className=\"Maps\">\n            {finalCountyData.length == 50\n              ?\n              <div style={{ width: '100%' }}>\n                <span className=\"MapTitle\">Cases In Last 30 Days Per Capita</span>\n                <Map data={[].concat.apply([], finalCountyData)} maskData={false} keyTitle={\"Case Count\"} gradientColorRight={\"#782618\"} gradientColorLeft={\"#ffedea\"} />\n              </div>\n              :\n              <div className=\"Spinner\">\n                <Circle className=\"Progress\" percent={finalCountyProgress * 2} strokeWidth=\"8\" trailWidth=\"8\" strokeColor=\"#2db7f5\" />\n                <span>Retrieving the most up to date information...</span>\n              </div>\n            }\n            {finalCountyData.length == 50\n              ?\n              <div style={{ width: '100%' }}>\n                <span className=\"MapTitle\">Mask Usage by County</span>\n                <Map data={[].concat.apply([], finalCountyData)} maskData={true} keyTitle={\"Mask Usage\"} gradientColorRight={\"#5E9B50\"} gradientColorLeft={\"#DADDDB\"} />\n              </div>\n              :\n              <div className=\"Spinner\">\n                <Circle className=\"Progress\" percent={finalCountyProgress * 2} strokeWidth=\"8\" trailWidth=\"8\" strokeColor=\"#2db7f5\" />\n                <span>Retrieving the most up to date information...</span>\n              </div>\n            }\n\n          </div>\n          <div className=\"BottomData\">\n            <span>The Bottom Line</span>\n            <span>In counties where at least 80% of people frequently or always wear a mask, they were <b>{moreLikelyPercent.toFixed(1)}% Less Likely</b> to contract Coronavirus in the last 30 days. </span>\n          </div>\n          <div className=\"BottomData\">\n            <span>Disclaimer</span>\n            <span>Data is collected from the NYT and Dynata, corona.lmao.ninja, the Census Bureau, and covidtracking.com. Mask usage data is based on roughly 250,000 interviews done by the NYT and Dynata . \"Usually Wear Mask\" on this website refers to data where the respondent answered that they frequently or always wear when asked \"How often do you wear a mask in public when you expect to be within six feet of another person?\"</span>\n          </div>\n        </div>\n        <div className=\"RigthSideBar\">\n          <span className=\"RightSideTitle\" style={{ color: '#E63946' }}>Deaths</span>\n          <span className=\"RightSideNumber\" style={{ color: '#E63946' }}>{generalCovidData.deaths ? generalCovidData.deaths : <span className=\"RetrievingData\">Retrieving Data...</span>}</span>\n          <span className=\"RightSideIncrease\" style={{ color: '#E63946' }}>+{generalCovidData.deathsIncrease} from yesterday</span>\n          <span className=\"RightSideTitle\" style={{ color: '#457B9D' }}>Positive Cases</span>\n          <span className=\"RightSideNumber\" style={{ color: '#457B9D' }}>{generalCovidData.positive ? generalCovidData.positive : <span className=\"RetrievingData\">Retrieving Data...</span>}</span>\n          <span className=\"RightSideIncrease\" style={{ color: '#457B9D' }}>+{generalCovidData.positiveIncrease} from yesterday</span>\n          <span className=\"RightSideTitle\" style={{ color: '#E4DB25' }}>Hospitalized</span>\n          <span className=\"RightSideNumber\" style={{ color: '#E4DB25' }}>{generalCovidData.hospitalized ? generalCovidData.hospitalized : <span className=\"RetrievingData\">Retrieving Data...</span>}</span>\n          <span className=\"RightSideIncrease\" style={{ color: '#E4DB25' }}>+{generalCovidData.hospitalizedIncrease} from yesterday</span>\n          <span className=\"RightSideTitle\" style={{ color: '#007F5F' }}>In ICU</span>\n          <span className=\"RightSideNumber\" style={{ color: '#007F5F' }}>{generalCovidData.icu ? generalCovidData.icu : <span className=\"RetrievingData\">Retrieving Data...</span>}</span>\n          <span className=\"RightSideIncrease\" style={{ color: '#007F5F' }}>+{generalCovidData.icuIncrease} from yesterday</span>\n          <span className=\"RightSideTitle\" style={{ color: '#F3722C' }}>On Ventilator</span>\n          <span className=\"RightSideNumber\" style={{ color: '#F3722C' }}>{generalCovidData.ventilator ? generalCovidData.ventilator : <span className=\"RetrievingData\">Retrieving Data...</span>}</span>\n          <span className=\"RightSideIncrease\" style={{ color: '#F3722C' }}>+{generalCovidData.ventilatorIncrease} from yesterday</span>\n          <span className=\"RightSideTitle\" style={{ color: '#4361EE' }}>Recovered</span>\n          <span className=\"RightSideNumber\" style={{ color: '#4361EE' }}>{generalCovidData.recovered ? generalCovidData.recovered : <span className=\"RetrievingData\">Retrieving Data...</span>}</span>\n          <span className=\"RightSideIncrease\" style={{ color: '#4361EE' }}>+{generalCovidData.recoveredIncrease} from yesterday</span>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}